(function(t){function e(e){for(var r,i,o=e[0],s=e[1],l=e[2],h=0,f=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(f.length)f.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],r=!0,o=1;o<a.length;o++){var s=a[o];0!==n[s]&&(r=!1)}r&&(c.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},c=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=s;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0a5d":function(t,e,a){},"160f":function(t,e,a){t.exports=a.p+"img/Ava.19d7cbe4.jpg"},2847:function(t,e,a){"use strict";a("0a5d")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("5c96"),c=a.n(n),i=(a("0fae"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background"},[a("el-row",[a("el-col",{staticClass:"container-outter",attrs:{span:6,offset:9}},[a("div",{staticClass:"header"},[t._v(t._s("LIST"===t.status?"MY SUBSCRIBE":t.character.NAME))]),a("div",{staticClass:"container-inner"},["LIST"===t.status?a("CharacterList",{on:{gotoDialogPage:t.gotoDialogPage}}):t._e(),"DIALOG"===t.status?a("Dialog",{attrs:{objectCharacter:t.character}}):t._e()],1)])],1)],1)}),o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dialog-warp"},[r("div",{staticClass:"dialog-container",attrs:{id:"inner"}},t._l(t.dialogList,(function(e,n){return r("el-row",{key:n,staticClass:"item-container"},[r("el-col",[r("img",{staticClass:"img",class:t.dialogObjectStyle(e.object),attrs:{src:a("d178")("./"+e.object+".jpg")}}),r("span",{class:t.dialogItemStyle(e.object)},[t._v(t._s(e.text))])])],1)})),1),r("div",{staticClass:"handle-container"},[r("el-select",{staticClass:"handle-select",attrs:{filterable:"",placeholder:"请输入关键词选择你想要发送的话："},on:{change:t.sentMessage},model:{value:t.currentMessage,callback:function(e){t.currentMessage=e},expression:"currentMessage"}},t._l(t.character.DIALOG,(function(e,a){return r("el-option",{key:a,attrs:{value:e.MESSAGE}},[t._v(t._s(e.MESSAGE))])})),1),r("br"),r("el-button",{staticClass:"handle-sent",attrs:{type:"primary",circle:"",icon:"el-icon-upload2"},on:{click:t.sentMessage}}),r("el-button",{staticClass:"handle-clear",attrs:{type:"danger",circle:"",icon:"el-icon-delete"},on:{click:t.clearMessage}})],1)])},l=[],u=(a("7db0"),{save:function(t,e){localStorage.setItem(t,JSON.stringify(e))},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.parse(localStorage.getItem(t))||e},remove:function(t){localStorage.removeItem(t)},clear:function(){localStorage.clear()}}),h=u,f={props:["objectCharacter"],data:function(){return{currentMessage:"",dialogList:[],character:this.objectCharacter}},created:function(){h.get("dialogWith"+this.character.EN_NAME).length?(this.dialogList=h.get("dialogWith"+this.character.EN_NAME),this.character.LIKABILITY_NUM=h.get("likeWith"+this.character.EN_NAME)):(h.save("dialogWith"+this.character.EN_NAME,[]),h.save("likeWith"+this.character.EN_NAME,this.objectCharacter.LIKABILITY_NUM)),this.goDown()},updated:function(){this.goDown()},methods:{imgUrl:function(t){return"../../public/photo/"+t+".jpg"},sentMessage:function(){var t=this;if(this.currentMessage){var e=this.character.DIALOG.find((function(e){return e.MESSAGE===t.currentMessage})),a=this.changelikability(e.LIKABILITYCHANGE);console.log(a);var r=e.REPLY[a],n="";if(r){var c=Math.floor(Math.random()*r.length);n=r[c]}var i=e.MESSAGE;this.dialogList.push({object:"player",text:i}),setTimeout((function(){n&&t.dialogList.push({object:t.character.EN_NAME,text:n}),h.save("dialogWith"+t.character.EN_NAME,t.dialogList)}),Math.ceil(5e3*Math.random()))}},clearMessage:function(){this.currentMessage=""},changelikability:function(t){return this.character.LIKABILITY_NUM+=t*(Math.ceil(10*Math.random())-4),this.character.LIKABILITY_NUM<0&&(this.character.LIKABILITY_NUM=0),this.character.LIKABILITY_NUM>100&&(this.character.LIKABILITY_NUM=100),h.save("likeWith"+this.character.EN_NAME,this.character.LIKABILITY_NUM),this.character.LIKABILITY_NUM>80?"BEST":this.character.LIKABILITY_NUM>60?"GOOD":this.character.LIKABILITY_NUM>40?"AVERAGE":this.character.LIKABILITY_NUM>20?"BAD":"WORST"},dialogItemStyle:function(t){return t===this.character.NAME?"left":"right"},dialogObjectStyle:function(t){return t===this.character.NAME?"left-object":"right-object"},goDown:function(){this.$nextTick((function(){var t=document.getElementById("inner");t.scrollTop=t.scrollHeight}))}}},g=f,d=(a("c144"),a("2877")),p=Object(d["a"])(g,s,l,!1,null,"64096abe",null),I=p.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"character-list-warp"},t._l(t.characterList,(function(e,r){return a("div",{key:r},[a("el-card",{staticClass:"character-button",attrs:{shadow:"hover"},nativeOn:{click:function(a){return t.gotoDialogPage(e)}}},[t._v(t._s(e.NAME))])],1)})),0)},E=[],M=[{MESSAGE:"然然你带我走吧😭",REPLY:{BEST:["好。"],GOOD:["可以"],AVERAGE:["😀"],BAD:["什么贵物"],WORST:["真没人和你玩。😓"]},LIKABILITYCHANGE:-1}],v={NAME:"A",EN_NAME:"Diana",LIKABILITY_NUM:50,DIALOG:M},L=v,b=[{MESSAGE:"晚晚🤤",REPLY:{BEST:["嘿！","好！！","哟哟！","也，也不是不可以啦。。。"],GOOD:["怎么了？","嗯？","才，才不是因为..."],AVERAGE:["哼！","我先run了。","达咩！"],BAD:["嗯。。。","好好学习！","你在想什么呢？"],WORST:["。。。","郭楠🤢"]},LIKABILITYCHANGE:3}],_={NAME:"Ava",EN_NAME:"Ava",LIKABILITY_NUM:5,DIALOG:b},N=_,O=[L,N],S=O,m={data:function(){return{characterList:S}},methods:{gotoDialogPage:function(t){this.$emit("gotoDialogPage",t)}}},y=m,j=(a("9b99"),Object(d["a"])(y,A,E,!1,null,null,null)),T=j.exports,B={components:{Dialog:I,CharacterList:T},data:function(){return{character:{},status:"LIST"}},created:function(){},methods:{gotoDialogPage:function(t){this.character=t,this.status="DIALOG"}}},D=B,C=(a("034f"),a("2847"),Object(d["a"])(D,i,o,!1,null,null,null)),w=C.exports;r["default"].use(c.a),new r["default"]({render:function(t){return t(w)}}).$mount("#app")},"5acf":function(t,e,a){t.exports=a.p+"img/player.232fae55.jpg"},"85ec":function(t,e,a){},"9b99":function(t,e,a){"use strict";a("c3b6")},ad8b:function(t,e,a){},c144:function(t,e,a){"use strict";a("ad8b")},c3b6:function(t,e,a){},d178:function(t,e,a){var r={"./Ava.jpg":"160f","./player.jpg":"5acf"};function n(t){var e=c(t);return a(e)}function c(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=c,t.exports=n,n.id="d178"}});
//# sourceMappingURL=app.84e69aa2.js.map